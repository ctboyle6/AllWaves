<div class="container m-3">
  <h1>Your Preferences</h1>

<!--   <% @preferences.each do |preference| %>
    <ul>
      <li><%= link_to preference.name, preference_path(preference) %></li>
    </ul>
  <% end %> -->
  <!-- bootstrap accordian -->
  <div class="accordion" id="accordionPreferences">
    <% current_user.preferences.each_with_index do |preference, index| %>
      <div class="card">

        <div class="card-header" id="heading-<%= index + 1 %>">
          <h2 class="mb-0">
            <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapse-<%= index + 1 %>" aria-expanded="true" aria-controls="collapse-<%= index + 1 %>">
              <%= link_to preference.name, preference  %>
            </button>
          </h2>
        </div>

        <div id="collapse-<%= index + 1 %>" class="collapse" aria-labelledby="heading-<%= index + 1 %>" data-parent="#accordionPreferences">
          <div class="card-body">
            <%= simple_form_for preference, remote: true do |f| %>
              <%= f.input :name, disabled: true %>
              <%= f.input :pref_unit, as: :radio_buttons, collection: ['FT', 'M'], disabled: true, label: 'Preferred Units' %>
              <%= f.input :swell_hgt_min, as: :range, input_html: { min: 0, max: 20, step: 0.5 }, disabled: true, label: 'Swell Height: Min'  %>
              <%= f.input :swell_hgt_max, as: :range, input_html: { min: 0, max: 20, step: 0.5 }, disabled: true, label: 'Swell Height: Max' %>
              <%= f.input :swell_int_min, as: :range, input_html: { min: 0, max: 20, step: 0.5 }, disabled: true, label: 'Swell Interval: Min' %>
              <%= f.input :swell_int_max, as: :range, input_html: { min: 0, max: 20, step: 0.5 }, disabled: true, label: 'Swell Interval: Max' %>
              <%= f.input :swell_dir_min, as: :range, input_html: { min: 0, max: 360, step: 5 }, disabled: true, label: 'Swell Direction: Min' %>
              <%= f.input :swell_dir_max, as: :range, input_html: { min: 0, max: 360, step: 5 }, disabled: true, label: 'Swell Direction: Max' %>
              <%= f.input :wind_str_min, as: :range, input_html: { min: 0, max: 50, step: 0.5 }, disabled: true, label: 'Wind Strength: Min' %>
              <%= f.input :wind_str_max, as: :range, input_html: { min: 0, max: 50, step: 0.5 }, disabled: true, label: 'Wind Strength: Max' %>
              <%= f.input :wind_dir_min, as: :range, input_html: { min: 0, max: 360, step: 5 }, disabled: true, label: 'Wind Direction: Min' %>
              <%= f.input :wind_dir_max, as: :range, input_html: { min: 0, max: 360, step: 5 }, disabled: true, label: 'Wind Direction: Max' %>
              <%= f.input :pref_tide_position, as: :radio_buttons, collection: ['LOW', 'NORMAL', 'HIGH'], disabled: true, label: 'Preferred Tide Position' %>
              <%= f.button :button, "Update Preferences", class: "btn btn-secondary", id: "form-toggle" %>
              <%= f.button :submit, "Save Preferences", style: 'display:none', class: "btn btn-primary", id: "form-save" %>
            <% end %>
          </div>
        </div>

      </div>
    <% end %>
  </div>

  <br>

  <%= link_to "Create new preference set", new_preference_path, class: "btn btn-primary my-3" %>
  <br>
  <%= link_to "Back to dashboard", user_root_path, class: "btn btn-secondary my-3" %>
</div>



